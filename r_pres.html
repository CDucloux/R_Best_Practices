<!DOCTYPE html>
<html lang="en"><head>
<script src="r_pres_files/libs/clipboard/clipboard.min.js"></script>
<script src="r_pres_files/libs/quarto-html/tabby.min.js"></script>
<script src="r_pres_files/libs/quarto-html/popper.min.js"></script>
<script src="r_pres_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="r_pres_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="r_pres_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="r_pres_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="r_pres_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="r_pres_files/libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.551">

  <meta name="author" content="Corentin Ducloux">
  <meta name="dcterms.date" content="2024-12-08">
  <title> Best Practices</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="r_pres_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="r_pres_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #282a36; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #ff79c6; } /* Annotation */
    code span.at { color: #ff79c6; } /* Attribute */
    code span.bn { color: #bd93f9; } /* BaseN */
    code span.bu { color: #8be9fd; } /* BuiltIn */
    code span.cf { color: #ff79c6; } /* ControlFlow */
    code span.ch { color: #f1fa8c; } /* Char */
    code span.cn { color: #bd93f9; font-weight: bold; } /* Constant */
    code span.co { color: #6272a4; } /* Comment */
    code span.cv { color: #8be9fd; } /* CommentVar */
    code span.do { color: #ffb86c; } /* Documentation */
    code span.dt { color: #8be9fd; font-style: italic; } /* DataType */
    code span.dv { color: #bd93f9; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #8be9fd; } /* Extension */
    code span.fl { color: #bd93f9; } /* Float */
    code span.fu { color: #50fa7b; } /* Function */
    code span.im { color: #ff79c6; } /* Import */
    code span.in { color: #f1fa8c; } /* Information */
    code span.kw { color: #ff79c6; } /* Keyword */
    code span.op { color: #f8f8f2; } /* Operator */
    code span.ot { color: #50fa7b; } /* Other */
    code span.pp { color: #ff79c6; } /* Preprocessor */
    code span.re { color: #8be9fd; } /* RegionMarker */
    code span.sc { color: #ff79c6; } /* SpecialChar */
    code span.ss { color: #f1fa8c; } /* SpecialString */
    code span.st { color: #f1fa8c; } /* String */
    code span.va { color: #8be9fd; } /* Variable */
    code span.vs { color: #f1fa8c; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="r_pres_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="assets/edf_styles.css">
  <link href="r_pres_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="r_pres_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="r_pres_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="r_pres_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="assets/white_bg.jpg" data-background-opacity="0.5" data-background-size="contain" class="quarto-title-block center">
  <h1 class="title"><iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon> Best Practices</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<em>Corentin Ducloux</em> 
</div>
</div>
</div>

  <p class="date">12/08/2024</p>
</section>
<section id="plan" class="slide level2 smaller">
<h2>Plan</h2>
<p>1️⃣ Fonctions (Pûreté, Convention de nommage, Documentation)</p>
<p>2️⃣ Linter</p>
<p>3️⃣ Styler <iconify-icon role="img" inline="" icon="material-symbols:styler" aria-label="Icon styler from material-symbols Iconify.design set." title="Icon styler from material-symbols Iconify.design set."></iconify-icon></p>
<p>4️⃣ Les logs 💬</p>
<p>5️⃣ Le pipe <iconify-icon role="img" inline="" icon="mdi:pipe" aria-label="Icon pipe from mdi Iconify.design set." title="Icon pipe from mdi Iconify.design set."></iconify-icon> : <code>|&gt;</code></p>
<p>6️⃣ <iconify-icon role="img" inline="" icon="mdi:git" aria-label="Icon git from mdi Iconify.design set." title="Icon git from mdi Iconify.design set."></iconify-icon> Git</p>
<p>7️⃣ Interopérabilité</p>
</section>
<section id="les-fonctions" class="slide level2">
<h2>Les fonctions</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Intérêt d’une fonction</strong></p>
</div>
<div class="callout-content">
<p>Une fonction en <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon> est un bloc de code qui peut être réutilisé plusieurs fois pour effectuer une tâche spécifique. Elles disposent de <strong>paramètres</strong> et de <strong>valeurs de retour</strong>.</p>
</div>
</div>
</div>
<blockquote>
<p><strong>Scénario</strong> : Calcul de l’aire de rectangles de taille variable.</p>
</blockquote>
<p>Sur des cas aussi simples, on a tendance à déjà raisonner en fonction, mais ce n’est pas toujours vrai sur des cas plus complexes. En principe, il faut raisonner de manière <strong>DRY</strong><sup>1</sup>.</p>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Don’t Repeat Yourself</p></li></ol></aside></section>
<section id="calcul-sans-fonction" class="slide level2">
<h2>Calcul, sans fonction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a>longueur_1 <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb1-2"><a href=""></a>largeur_1 <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1-3"><a href=""></a>aire_1 <span class="ot">&lt;-</span> longueur_1 <span class="sc">*</span> largeur_1</span>
<span id="cb1-4"><a href=""></a></span>
<span id="cb1-5"><a href=""></a>longueur_2 <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb1-6"><a href=""></a>largeur_2 <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb1-7"><a href=""></a>aire_2 <span class="ot">&lt;-</span> longueur_2 <span class="sc">*</span> largeur_2</span>
<span id="cb1-8"><a href=""></a></span>
<span id="cb1-9"><a href=""></a><span class="fu">print</span>(aire_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">print</span>(aire_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
</div>
<p><span class="math inline">\(\Rightarrow\)</span> Naivement, on ré-écrit deux fois les mêmes choses.</p>
</section>
<section id="avec-fonction" class="slide level2">
<h2>Avec fonction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>calcul_aire <span class="ot">&lt;-</span> <span class="cf">function</span>(longueur, largeur) {</span>
<span id="cb5-2"><a href=""></a>    aire <span class="ot">&lt;-</span> longueur <span class="sc">*</span> largeur</span>
<span id="cb5-3"><a href=""></a>    <span class="fu">return</span>(aire)</span>
<span id="cb5-4"><a href=""></a>}</span>
<span id="cb5-5"><a href=""></a></span>
<span id="cb5-6"><a href=""></a><span class="fu">print</span>(<span class="fu">calcul_aire</span>(<span class="dv">2</span>, <span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">print</span>(<span class="fu">calcul_aire</span>(<span class="dv">2</span>, <span class="dv">8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
</div>
<hr>
<p><strong>CONCLUSION</strong> : Utiliser des fonctions n’est <u>JAMAIS</u> une punition, il y a un véritable intérêt !</p>
</section>
<section id="une-fonction-horrible" class="slide level2 smaller">
<h2>Une fonction horrible</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a>U <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">9</span>, <span class="dv">10</span>)</span>
<span id="cb9-2"><a href=""></a></span>
<span id="cb9-3"><a href=""></a>zA1 <span class="ot">&lt;-</span> <span class="cf">function</span>(v, c) {</span>
<span id="cb9-4"><a href=""></a>    <span class="fu">return</span>(U[v] <span class="sc">*</span> c)</span>
<span id="cb9-5"><a href=""></a>}</span>
<span id="cb9-6"><a href=""></a></span>
<span id="cb9-7"><a href=""></a><span class="fu">zA1</span>(<span class="dv">1</span>, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 48</code></pre>
</div>
</div>
<p>❌ Quels sont les problèmes de la fonction <code>zA1</code> ?</p>
<ol type="1">
<li class="fragment">La fonction n’est pas pure - l’objet <strong>U</strong> est défini plus haut mais n’est pas inclus en tant qu’argument.</li>
<li class="fragment">Nom de la fonction pas clair – à quoi correspond <code>zA1</code> ?</li>
<li class="fragment">Non-Respect des conventions de nommage (<code>snake_case</code> ou <code>TitleCase</code>).</li>
<li class="fragment">Arguments vraiments pas clairs <em>(v,c)</em>.</li>
<li class="fragment">Difficulté d’interprétation de la valeur de retour de la fonction <code>zA1</code>…</li>
<li class="fragment">La fonction n’est pas documentée.</li>
</ol>
</section>
<section id="pureté-dune-fonction" class="slide level2">
<h2>Pureté d’une fonction</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Pureté d’une fonction</strong></p>
</div>
<div class="callout-content">
<p>Une fonction pure possède les propriétés suivantes :</p>
<ul>
<li class="fragment"><p>Sa valeur de retour est la même <strong>quand on utilise les mêmes arguments</strong> (pas de variation avec des variables statiques locales, ou des variables globales).</p></li>
<li class="fragment"><p>Pas d’effets de bord.</p></li>
</ul>
</div>
</div>
</div>
<p>On a vu que <code>zA1</code> viole la première propriété, puisqu’elle utilise <strong>U</strong>, une variable globale, non définie dans le corps de la fonction.</p>
</section>
<section id="aparté-sur-leffet-de-bord" class="slide level2 smaller">
<h2>Aparté sur l’effet de bord</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>type_age <span class="ot">&lt;-</span> <span class="cf">function</span>(age) {</span>
<span id="cb11-2"><a href=""></a>    <span class="cf">if</span> (age <span class="sc">&lt;=</span> <span class="dv">0</span>) {</span>
<span id="cb11-3"><a href=""></a>        type <span class="ot">&lt;-</span> <span class="st">"Un âge ne peut pas être négatif ou égal à 0"</span></span>
<span id="cb11-4"><a href=""></a>    } <span class="cf">else</span> <span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">18</span>) {</span>
<span id="cb11-5"><a href=""></a>        type <span class="ot">&lt;-</span> <span class="st">"Mineur"</span></span>
<span id="cb11-6"><a href=""></a>    } <span class="cf">else</span> <span class="cf">if</span> (age <span class="sc">&lt;</span> <span class="dv">99</span>) {</span>
<span id="cb11-7"><a href=""></a>        type <span class="ot">&lt;-</span> <span class="st">"Majeur"</span></span>
<span id="cb11-8"><a href=""></a>    } <span class="cf">else</span> {</span>
<span id="cb11-9"><a href=""></a>        type <span class="ot">&lt;-</span> <span class="st">"Y'a un petit souci là..."</span></span>
<span id="cb11-10"><a href=""></a>    }</span>
<span id="cb11-11"><a href=""></a></span>
<span id="cb11-12"><a href=""></a>    <span class="fu">return</span>(type)</span>
<span id="cb11-13"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a>age <span class="ot">&lt;-</span> <span class="dv">19</span></span>
<span id="cb12-2"><a href=""></a></span>
<span id="cb12-3"><a href=""></a><span class="fu">type_age</span>(age) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Majeur"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>modifie_age <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb14-2"><a href=""></a>    age <span class="ot">&lt;&lt;-</span> <span class="dv">2000</span> <span class="co"># Opérateur &lt;&lt;- à bannir !</span></span>
<span id="cb14-3"><a href=""></a>    <span class="fu">return</span>(age)</span>
<span id="cb14-4"><a href=""></a>}</span>
<span id="cb14-5"><a href=""></a></span>
<span id="cb14-6"><a href=""></a><span class="fu">modifie_age</span>() <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>age <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="fu">type_age</span>(age) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Y'a un petit souci là..."</code></pre>
</div>
</div>
<p>❓ On vient d’assigner une nouvelle valeur à <code>age</code>, alors même que <code>age</code> etait un argument d’entrée d’une autre fonction.</p>
</section>
<section id="convention-de-nommage" class="slide level2">
<h2>Convention de nommage</h2>

<img data-src="assets/cases.png" class="r-stretch"></section>
<section id="documentation-explicite" class="slide level2">
<h2>Documentation Explicite</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Roxygen</strong></p>
</div>
<div class="callout-content">
<p><code>{roxygen2}</code> est un package qui permet d’écrire la documentation des fonctions dans des fichiers <code>.R</code> à l’aide d’un squelette de commentaires situé au-dessus de la fonction.</p>
</div>
</div>
</div>
<p><code>@title</code> <span class="math inline">\(\Rightarrow\)</span> Titre de la fonction</p>
<p><code>@description</code> <span class="math inline">\(\Rightarrow\)</span> Description de la fonction</p>
<p><code>@param</code> <span class="math inline">\(\Rightarrow\)</span> Paramètres de la fonction</p>
<p><code>@returns</code> <span class="math inline">\(\Rightarrow\)</span> Valeurs de retour de la fonction</p>
<p><code>@examples</code> <span class="math inline">\(\Rightarrow\)</span> Exemples d’utilisation</p>
<aside class="notes">
<p>Même si roxygen est principalement utilisé pour création de packages, ça a du sens de documenter même des fonctions qui ne sont pas contenues dans des packages.</p>
<p>On est pas dans un package R, donc pas besoin d’importer des dépendances spécifiques ou d’exporter la fonction.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="documentation-implicite" class="slide level2">
<h2>Documentation Implicite</h2>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>Il n’y a pas forcément besoin de documentation avec <code>{roxygen2}</code> dans des petites fonctions dont le traitement est simple, à partir du moment où il y a une <strong>documentation implicite</strong>.</p>
</div>
</div>
</div>
<p>La documentation implicite revient à définir des noms de fonction et d’arguments cohérents <em>(si possible, en anglais)</em>.</p>
</section>
<section id="améliorons-la-fonction" class="slide level2 smaller">
<h2>Améliorons la fonction</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="co"># VERSION 1 - avec intégration de la variable globale</span></span>
<span id="cb20-2"><a href=""></a></span>
<span id="cb20-3"><a href=""></a>z_a1 <span class="ot">&lt;-</span> <span class="cf">function</span>(u, v, c) {</span>
<span id="cb20-4"><a href=""></a>    <span class="fu">return</span>(u[v] <span class="sc">*</span> c)</span>
<span id="cb20-5"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="co"># VERSION 2 - avec documentation implicite</span></span>
<span id="cb21-2"><a href=""></a></span>
<span id="cb21-3"><a href=""></a>multiply_vector_element <span class="ot">&lt;-</span> <span class="cf">function</span>(integer_vector, index, multiplier) {</span>
<span id="cb21-4"><a href=""></a>    multiplied_element <span class="ot">&lt;-</span> integer_vector[index] <span class="sc">*</span> multiplier</span>
<span id="cb21-5"><a href=""></a>    <span class="fu">return</span>(multiplied_element)</span>
<span id="cb21-6"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="co"># VERSION 3 - avec documentation complète</span></span>
<span id="cb22-2"><a href=""></a></span>
<span id="cb22-3"><a href=""></a><span class="co">#' @title Multiplie un élément de vecteur</span></span>
<span id="cb22-4"><a href=""></a><span class="co">#' @description Multiplie un élément de vecteur choisi par l'utilisateur par un multiplicateur spécifié.</span></span>
<span id="cb22-5"><a href=""></a><span class="co">#' </span></span>
<span id="cb22-6"><a href=""></a><span class="co">#' @param integer_vector Un vecteur numérique</span></span>
<span id="cb22-7"><a href=""></a><span class="co">#' @param index L'indice de l'élément à multiplier dans le vecteur</span></span>
<span id="cb22-8"><a href=""></a><span class="co">#' @param multiplier Le multiplicateur numérique</span></span>
<span id="cb22-9"><a href=""></a><span class="co">#' </span></span>
<span id="cb22-10"><a href=""></a><span class="co">#' @returns L'élément multiplié</span></span>
<span id="cb22-11"><a href=""></a><span class="co">#' </span></span>
<span id="cb22-12"><a href=""></a><span class="co">#' @examples</span></span>
<span id="cb22-13"><a href=""></a><span class="co">#' multiply_vector_element(c(1,2,4), 2, 8)</span></span>
<span id="cb22-14"><a href=""></a><span class="co">#' [1] 16</span></span>
<span id="cb22-15"><a href=""></a>multiply_vector_element <span class="ot">&lt;-</span> <span class="cf">function</span>(integer_vector, index, multiplier) {</span>
<span id="cb22-16"><a href=""></a>    multiplied_element <span class="ot">&lt;-</span> integer_vector[index] <span class="sc">*</span> multiplier</span>
<span id="cb22-17"><a href=""></a>    <span class="fu">return</span>(multiplied_element)</span>
<span id="cb22-18"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="linter" class="slide level2">
<h2>Linter</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Le linter, un râleur bienveillant</strong></p>
</div>
<div class="callout-content">
<p>Permet d’analyser le code à la recherche d’erreurs et de problèmes stylistiques.</p>
<p>Sur <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon>, le <strong>linter</strong> recommandé est le package <code>{lintr}</code>.</p>
</div>
</div>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"lintr"</span>)</span>
<span id="cb23-2"><a href=""></a></span>
<span id="cb23-3"><a href=""></a>lintr<span class="sc">::</span><span class="fu">use_lintr</span>(<span class="at">type =</span> <span class="st">"tidyverse"</span>)</span>
<span id="cb23-4"><a href=""></a>lintr<span class="sc">::</span><span class="fu">lint</span>(<span class="st">"hello.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>On va installer le package, et ensuite on va initialiser une configuration de linter, et on va écrire un script tout pourri exprès pour se prendre plein d’avertissements.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="styler" class="slide level2">
<h2>Styler</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Style Matters.</strong></p>
</div>
<div class="callout-content">
<p><code>{styler}</code> est un package conçu pour formater le code <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon> selon un style particulier pour améliorer la lisibilité.</p>
</div>
</div>
</div>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"styler"</span>)</span>
<span id="cb24-2"><a href=""></a></span>
<span id="cb24-3"><a href=""></a>styler<span class="sc">::</span><span class="fu">style_file</span>(<span class="st">"hello.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
<p><span class="math inline">\(\Rightarrow\)</span> C’est un outil très puissant qui fait gagner beaucoup de temps – <strong>l’utiliser c’est l’adopter</strong>.</p>
</section>
<section id="logs-1" class="slide level2">
<h2>Logs (1)</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Intérêt des logs</strong></p>
</div>
<div class="callout-content">
<p>L’utilisation des logs est très bénéfique pour le débogage, la maintenance et la surveillance en production des potentiels problèmes d’une application.</p>
<p>Il existe de nombreuses libraries sur <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon> pour mettre en place une politique de <em>logs</em>. Le plus abouti est le package <code>{logger}</code>.</p>
</div>
</div>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"logger"</span>)</span>
<span id="cb25-2"><a href=""></a></span>
<span id="cb25-3"><a href=""></a>logger<span class="sc">::</span><span class="fu">log_info</span>(<span class="st">"Ceci est une info"</span>)</span>
<span id="cb25-4"><a href=""></a>logger<span class="sc">::</span><span class="fu">log_warn</span>(<span class="st">"Ceci est un avertissement"</span>)</span>
<span id="cb25-5"><a href=""></a>logger<span class="sc">::</span><span class="fu">log_error</span>(<span class="st">"Ceci est une erreur"</span>)</span>
<span id="cb25-6"><a href=""></a>logger<span class="sc">::</span><span class="fu">log_fatal</span>(<span class="st">"Ceci est une erreur très grave"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="logs-2" class="slide level2">
<h2>Logs (2)</h2>
<p><span class="math inline">\(\Rightarrow\)</span> Par défaut, <code>{logger}</code> va écrire les messages dans la console au format suivant :</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href=""></a><span class="ex">INFO</span> [2024-08-12 10:48:56] Ceci est une info</span>
<span id="cb26-2"><a href=""></a><span class="ex">WARN</span> [2024-08-12 10:48:56] Ceci est un avertissement</span>
<span id="cb26-3"><a href=""></a><span class="ex">ERROR</span> [2024-08-12 10:48:56] Ceci est une erreur</span>
<span id="cb26-4"><a href=""></a><span class="ex">FATAL</span> [2024-08-12 10:48:56] Ceci est une erreur très grave</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Mais on peut aussi configurer des fichiers de <em>logs</em> rotatifs avec <code>log_appender()</code></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a><span class="fu">library</span>(logger)</span>
<span id="cb27-2"><a href=""></a></span>
<span id="cb27-3"><a href=""></a>log_file <span class="ot">&lt;-</span> <span class="st">"logs/logfile"</span></span>
<span id="cb27-4"><a href=""></a></span>
<span id="cb27-5"><a href=""></a><span class="fu">log_appender</span>(<span class="fu">appender_file</span>(log_file, <span class="at">max_lines =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="logs-3" class="slide level2 smaller">
<h2>Logs (3)</h2>
<blockquote>
<p>Faisons une fonction qui va prendre un entrée un vecteur numérique, par exemple <code>c(1,8,9,15)</code> et qui va faire la moyenne de ce vecteur. Plusieurs conditions sont à vérifier, et les logs sont à mettre en place pour chaque condition.</p>
</blockquote>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>log_mean_calculation <span class="ot">&lt;-</span> <span class="cf">function</span>(numbers) {</span>
<span id="cb28-2"><a href=""></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(numbers)) {</span>
<span id="cb28-3"><a href=""></a>        <span class="fu">log_error</span>(<span class="st">"Le vecteur numbers : {numbers} contient des éléments non numériques."</span>)</span>
<span id="cb28-4"><a href=""></a>        mean_value <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb28-5"><a href=""></a>    } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">length</span>(numbers) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb28-6"><a href=""></a>        <span class="fu">log_warn</span>(<span class="st">"Le vecteur numbers est vide"</span>)</span>
<span id="cb28-7"><a href=""></a>        mean_value <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb28-8"><a href=""></a>    } <span class="cf">else</span> {</span>
<span id="cb28-9"><a href=""></a>        <span class="fu">log_info</span>(<span class="st">"Fonction appelée avec le vecteur de nombres suivants : {numbers}"</span>)</span>
<span id="cb28-10"><a href=""></a>        mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(numbers)</span>
<span id="cb28-11"><a href=""></a>        <span class="fu">log_success</span>(<span class="st">"Le calcul de la moyenne est terminé. La valeur est : {mean_value}"</span>)</span>
<span id="cb28-12"><a href=""></a>    }</span>
<span id="cb28-13"><a href=""></a></span>
<span id="cb28-14"><a href=""></a>    <span class="fu">return</span>(mean_value)</span>
<span id="cb28-15"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<aside class="notes">
<p>Après c’est vrai que pour une fonction qui calcule une moyenne c’est un peu <strong>OVERKILL</strong> de mettre des logs. Si on fait ça partout, on est pas rendus.</p>
<p>Par contre, quand vous écrivez/importez des fichiers, quand vous faites des opérations importantes, les logs sont vraiment utiles.</p>
<p>Par exemple sur HPConnect quand l’utilisateur génère une fiche, en parallèle les logs sont aussi générés pour garder un état de ce qui s’est passé. En bref sur une appli Shiny qui est en prod, c’est bien d’avoir des logs.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pipes" class="slide level2 smaller">
<h2>Pipes</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Depuis la version 4.1, R a introduit le <em>pipe</em>, un nouvel opérateur noté <code>|&gt;</code> – le raccourci clavier associé est <strong>Ctrl+Shift+M</strong>.</p>
<p>Le principe de cet opérateur est de passer l’élément situé à sa gauche comme premier argument de la fonction située à sa droite. Ainsi, l’écriture <code>x |&gt; f()</code> est équivalente à <code>f(x)</code> et l’écriture <code>x |&gt; f(y)</code> à <code>f(x, y)</code>.</p>
</div>
</div>
</div>
<p><strong>Version sans pipe</strong> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a>v_num <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.2</span>, <span class="fl">8.9</span>, <span class="fl">55.6</span>, <span class="fl">11.4</span>)</span>
<span id="cb29-2"><a href=""></a></span>
<span id="cb29-3"><a href=""></a><span class="fu">format</span>(<span class="fu">round</span>(<span class="fu">mean</span>(v_num), <span class="at">digits =</span> <span class="dv">1</span>), <span class="at">decimal.mark =</span> <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "19,3"</code></pre>
</div>
</div>
<p><strong>Version avec pipe</strong> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a>v_num <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href=""></a>    <span class="fu">mean</span>() <span class="sc">|&gt;</span> </span>
<span id="cb31-3"><a href=""></a>    <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb31-4"><a href=""></a>    <span class="fu">format</span>(<span class="at">decimal.mark =</span> <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "19,3"</code></pre>
</div>
</div>
<p><span class="math inline">\(\Rightarrow\)</span> Meilleure décomposition et lisibilité du code en chaînant les opérations.</p>
</section>
<section id="git-1" class="slide level2">
<h2>Git (1)</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>What the Git ?</strong></p>
</div>
<div class="callout-content">
<p><strong>Git</strong> est un système de contrôle de version distribué. Il permet de gérer facilement l’intégration des changements dans le code source, créer des branches, naviguer dans l’historique de code, etc.</p>
</div>
</div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Installation de <strong>Git</strong></strong></p>
</div>
<div class="callout-content">
<p>Il faut préalablement installer <strong>Git</strong> sur sa machine pour pouvoir commencer</p>
<p><span class="math inline">\(\Rightarrow\)</span> <a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a></p>
</div>
</div>
</div>
</section>
<section id="git-2" class="slide level2">
<h2>Git (2)</h2>
<p>Sur <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon>, le package <code>{gert}</code> permet justement de faire des manipulations avec <strong>Git</strong>, tout en restant dans la console <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"gert"</span>)</span>
<span id="cb33-2"><a href=""></a></span>
<span id="cb33-3"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_init</span>()</span>
<span id="cb33-4"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_add</span>(<span class="st">"mon_fichier.txt"</span>)</span>
<span id="cb33-5"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_add</span>(<span class="st">"."</span>)</span>
<span id="cb33-6"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_branch</span>()</span>
<span id="cb33-7"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_branch_list</span>()</span>
<span id="cb33-8"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_branch_create</span>(<span class="st">"nouvelle_branche"</span>)</span>
<span id="cb33-9"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_status</span>()</span>
<span id="cb33-10"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_commit</span>(<span class="st">"Ma modification"</span>)</span>
<span id="cb33-11"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_push</span>()</span>
<span id="cb33-12"><a href=""></a>gert<span class="sc">::</span><span class="fu">git_pull</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="interopérabilité-1" class="slide level2 smaller">
<h2>Interopérabilité (1)</h2>
<p>Sur <iconify-icon role="img" inline="" icon="fa6-brands:r-project" aria-label="Icon r-project from fa6-brands Iconify.design set." title="Icon r-project from fa6-brands Iconify.design set."></iconify-icon>, il existe de nombreuses manières de stocker des données : créer des fichiers <em>csv</em>, <em>xlsx</em>, <em>json</em>, etc.</p>
<p>Un format se démarque en particulier : le <code>.RData</code>. Il est très simple d’utilisation et est compressé par défaut, ce qui le rend attractif… mais c’est un format propriétaire.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Le format <code>parquet</code></strong></p>
</div>
<div class="callout-content">
<p>Crée en 2013 par <strong>Cloudera</strong> et <iconify-icon role="img" inline="" icon="fa6-brands:twitter" aria-label="Icon twitter from fa6-brands Iconify.design set." title="Icon twitter from fa6-brands Iconify.design set."></iconify-icon> <strong>Twitter</strong> pour répondre à des problématiques de Big Data.</p>
<p><strong>Avantages du format</strong> :</p>
<p>1️⃣ Présence du schéma de données dans le fichier</p>
<p>2️⃣ Compatibilité avec Java, R, Python, C++, Rust, etc.</p>
<p>3️⃣ Compression des données grâce à son format “orienté colonnes”</p>
</div>
</div>
</div>
<aside class="notes">
<p>Problème des RData : c’esgt pour le coup un super format à partir du moment où on reste dans R. Mais par contre si on veut manipuler les données avec un autre langage là c’est pas la même histoire. L’interopérabilité elle est proche de 0. ça c’est pas ouf.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="interopérabilité-2" class="slide level2 smaller">
<h2>Interopérabilité (2)</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"arrow"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="math inline">\(\Rightarrow\)</span> <strong>Mise en pratique</strong> !</p>
</section>
<section id="tidyverse" class="slide level2">
<h2>Tidyverse</h2>
<p><code>{tibble}</code> et <code>{purrr}</code></p>
<div class="quarto-auto-generated-content">
<p><img src="assets/edf_logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>EDF | DISC | CNEPE</p>
</div>
</div>
</section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="r_pres_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="r_pres_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="r_pres_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="r_pres_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>